<!DOCTYPE html>
<html>

<head>
  <title>Mandaic Keyboard Prototype</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
</head>

<body>
  <section id="MANDAIC_KEYBOARD"></section>
  <section id="MANDAIC_KEYBOARD_RESULT"></section>
  <section>
    <input type="text" value="" id="MANDAIC_KEYBOARD_INPUT" />
    <div class="tooltip">
      <button onclick="doCopy()" onmouseout="resetTooltip()">
        <span class="tooltiptext" id="COPY_TOOLTIP">Copy to clipboard</span>
        Copy text
      </button>
    </div>
    <div>
      <button onclick="doClear()">
        Clear text
      </button>
    </div>
  </section>
  
  <script>
    function doCopy() {
      var copyText = document.getElementById("MANDAIC_KEYBOARD_INPUT");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      document.execCommand("copy");
      var tooltip = document.getElementById("COPY_TOOLTIP");
      tooltip.innerHTML = "Copied: " + copyText.value;
    }
    
    function resetTooltip() {
      var tooltip = document.getElementById("COPY_TOOLTIP");
      tooltip.innerHTML = "Copy to clipboard";
    }
    
    function doClear() {
      var copyText = document.getElementById("MANDAIC_KEYBOARD_INPUT");
      var result = document.getElementById("MANDAIC_KEYBOARD_RESULT");
      copyText.value = "";
      result.innerHTML = "";
    }
    
    // Mandaic Keyboard Prototype

    /**
    * Mandaic alphabet
    */
    const firstCodeUnit = 0x0840;

    const letters = [
      'HALQA', 'AB', 'AG', 'AD', 'AH',
      'USHENNA', 'AZ', 'IT', 'ATT', 'AKSA',
      'AK', 'AL', 'AM', 'AN', 'AS',
      'IN', 'AP', 'ASZ', 'AQ', 'AR',
      'ASH', 'AT', 'DUSHENNA', 'KAD', 'AIN'];

    const result = document.getElementById('MANDAIC_KEYBOARD_RESULT');
    const keyboard = document.getElementById('MANDAIC_KEYBOARD');

    // Append letters
    letters.forEach((letter, index) => {
      const btn = document.createElement('button');
      btn.title = letter;
      btn.className = 'GLYPH ' + letter;
      btn.onclick = () => {
        const el = document.createElement('span');
        el.className = 'GLYPH ' + letter;
        el.title = letter;
        result.prepend(el);
        // result.appendChild(el);

        const input = document.getElementById('MANDAIC_KEYBOARD_INPUT');
        input.value = (input.value || '') + String.fromCharCode(firstCodeUnit + index);
      };
      keyboard.appendChild(btn);
    });
</script>
</body>

</html>
